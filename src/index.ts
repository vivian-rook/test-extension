import {
  JupyterFrontEnd,
  JupyterFrontEndPlugin,
} from '@jupyterlab/application';

const plugin: JupyterFrontEndPlugin<void> = {
  id: 'favicon:plugin',
  autoStart: true,
  activate: (app: JupyterFrontEnd) => {
    //console.log('the JupyterLab main application:', app);
    var favicon = document.querySelector("link[rel*='icon']") as HTMLAnchorElement || document.createElement('link');
    favicon.href = `data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjwh
LS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoK
PHN2ZwogICB3aWR0aD0iMzIiCiAgIGhlaWdodD0iMzIiCiAgIHZpZXdCb3g9IjAgMCA4LjQ2NjY2
NjUgOC40NjY2NjY5IgogICB2ZXJzaW9uPSIxLjEiCiAgIGlkPSJzdmc3MCIKICAgaW5rc2NhcGU6
dmVyc2lvbj0iMS4xLjIgKDBhMDBjZjUzMzksIDIwMjItMDItMDQpIgogICBzb2RpcG9kaTpkb2Nu
YW1lPSJjYXQuc3ZnIgogICB4bWxuczppbmtzY2FwZT0iaHR0cDovL3d3dy5pbmtzY2FwZS5vcmcv
bmFtZXNwYWNlcy9pbmtzY2FwZSIKICAgeG1sbnM6c29kaXBvZGk9Imh0dHA6Ly9zb2RpcG9kaS5z
b3VyY2Vmb3JnZS5uZXQvRFREL3NvZGlwb2RpLTAuZHRkIgogICB4bWxucz0iaHR0cDovL3d3dy53
My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmci
PgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0ibmFtZWR2aWV3NzIiCiAgICAgcGFnZWNv
bG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNp
dHk9IjEuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnBhZ2Vv
cGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZWNoZWNrZXJib2FyZD0iMCIKICAgICBpbmtz
Y2FwZTpkb2N1bWVudC11bml0cz0ibW0iCiAgICAgc2hvd2dyaWQ9ImZhbHNlIgogICAgIGlua3Nj
YXBlOnpvb209IjAuNSIKICAgICBpbmtzY2FwZTpjeD0iLTg0IgogICAgIGlua3NjYXBlOmN5PSI1
NjEiCiAgICAgaW5rc2NhcGU6d2luZG93LXdpZHRoPSIxOTIwIgogICAgIGlua3NjYXBlOndpbmRv
dy1oZWlnaHQ9IjEwMzEiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjAiCiAgICAgaW5rc2NhcGU6
d2luZG93LXk9IjI1IgogICAgIGlua3NjYXBlOndpbmRvdy1tYXhpbWl6ZWQ9IjEiCiAgICAgaW5r
c2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHVuaXRzPSJweCIgLz4KICA8ZGVmcwog
ICAgIGlkPSJkZWZzNjciIC8+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAg
ICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPGcKICAg
ICAgIGlkPSJMYXllcl8zIgogICAgICAgdHJhbnNmb3JtPSJtYXRyaXgoMC4wMzU4NzU3MSwwLDAs
MC4wMzM0NjUwOSwtMi41MDQxMjQ2LC0xLjI1NDk0MDkpIgogICAgICAgc3R5bGU9ImZpbGw6IzM4
ODNiMDtmaWxsLW9wYWNpdHk6MSI+CiAgICAgIDxnCiAgICAgICAgIGlkPSJnMTYiCiAgICAgICAg
IHN0eWxlPSJmaWxsOiMzODgzYjA7ZmlsbC1vcGFjaXR5OjEiPgogICAgICAgIDxwb2x5bGluZQog
ICAgICAgICAgIGNsYXNzPSJzdDAiCiAgICAgICAgICAgcG9pbnRzPSI3MC4xLDE3Ny4xIDcwLjEs
MzcuNSAxNTMuNiw3My4zICAgIgogICAgICAgICAgIGlkPSJwb2x5bGluZTQiCiAgICAgICAgICAg
c3R5bGU9ImZpbGw6IzM4ODNiMDtmaWxsLW9wYWNpdHk6MSIgLz4KICAgICAgICA8ZwogICAgICAg
ICAgIGlkPSJnMTIiCiAgICAgICAgICAgc3R5bGU9ImZpbGw6IzM4ODNiMDtmaWxsLW9wYWNpdHk6
MSI+CiAgICAgICAgICA8cGF0aAogICAgICAgICAgICAgY2xhc3M9InN0MCIKICAgICAgICAgICAg
IGQ9Im0gMjgyLjksMTE1LjggYyAtMS4yLC0yIC0yLjUsLTQgLTMuOSwtNiBsIC0xLjMsMy45IGMg
MCwwIDEuNCwwLjUgMy42LDEuMyAwLjQsMC4zIDEsMC41IDEuNiwwLjggeiIKICAgICAgICAgICAg
IGlkPSJwYXRoNiIKICAgICAgICAgICAgIHN0eWxlPSJmaWxsOiMzODgzYjA7ZmlsbC1vcGFjaXR5
OjEiIC8+CiAgICAgICAgICA8cGF0aAogICAgICAgICAgICAgY2xhc3M9InN0MCIKICAgICAgICAg
ICAgIGQ9Im0gMjQxLjYsMTczLjUgYyAwLDguMyA2LjgsMTUuMSAxNS4xLDE1LjEgOC4zLDAgMTUu
MSwtNi43IDE1LjEsLTE1LjEgMCwtOC4zIC02LjcsLTE1LjEgLTE1LjEsLTE1LjEgLTguNCwwLjEg
LTE1LjEsNi44IC0xNS4xLDE1LjEgeiIKICAgICAgICAgICAgIGlkPSJwYXRoOCIKICAgICAgICAg
ICAgIHN0eWxlPSJmaWxsOiMzODgzYjA7ZmlsbC1vcGFjaXR5OjEiIC8+CiAgICAgICAgICA8cGF0
aAogICAgICAgICAgICAgY2xhc3M9InN0MCIKICAgICAgICAgICAgIGQ9Im0gMjU4LjYsMjQ4LjYg
LTAuMiwtMTEuOSBjIDAsMCAtMC40LDAgLTEuMSwwLjEgdiAwIGMgLTAuMiwwIC0wLjUsMCAtMC44
LDAgLTAuNiwwIC0xLjIsLTAuMSAtMS45LC0wLjEgLTEuNCwtMC4xIC0yLjksLTAuMiAtNC43LC0w
LjIgLTEuMywtMC4yIC0yLjcsLTAuNCAtNCwtMC43IC0xLjMsLTAuMSAtMi44LC0wLjUgLTQuMiwt
MC45IC0xLjQsLTAuNCAtMi43LC0wLjYgLTMuOCwtMSAtMi4yLC0wLjggLTMuNiwtMS4zIC0zLjYs
LTEuMyBsIC00LjMsMTEuMSBjIC03LjQsLTIuOSAtMTQuMiwtNi44IC0yMC4zLC0xMS44IGwgNy41
LC05LjIgYyAwLDAgLTQuOCwtMy45IC04LjcsLTguNiAtMS44LC0yLjUgLTMuOCwtNC44IC00Ljks
LTYuOSAtMS4yLC0yIC0yLC0zLjMgLTIsLTMuMyBsIC0xMC40LDUuNyBjIC0zLjYsLTYuNiAtNi4z
LC0xMy45IC03LjgsLTIxLjUgbCAxMS42LC0yLjMgYyAwLDAgLTAuMiwtMS41IC0wLjYsLTMuOCAt
MC4yLC0xLjEgLTAuNCwtMi41IC0wLjQsLTMuOSAwLC0wLjcgLTAuMSwtMS41IC0wLjEsLTIuMiBs
IC0wLjEsLTEuMSB2IC0wLjYgLTAuMyAtMC4xIGMgMC4xLC0xLjcgMC4yLC0zLjMgMC4yLC00Ljkg
MC4xLC0wLjggMC4xLC0xLjcgMC4xLC0yLjQgMC4xLC0wLjYgMC4yLC0xLjEgMC4zLC0xLjcgMC4z
LC0yLjEgMC41LC0zLjQgMC41LC0zLjQgbCAtMTEuNiwtMi4yIGMgMS41LC03LjcgNC4yLC0xNSA3
LjksLTIxLjcgbCAxMC40LDUuNyBjIDAsMCAwLjgsLTEuMyAyLC0zLjMgMC42LC0xIDEuMywtMi4x
IDIuMiwtMy4zIDAuOSwtMS4xIDEuNywtMi40IDIuNywtMy42IDIuMSwtMi4zIDQuMSwtNC42IDUu
OSwtNi4xIDAuOSwtMC44IDEuNiwtMS40IDIuMSwtMS45IDAuNSwtMC41IDAuOCwtMC43IDAuOCwt
MC43IGwgLTcuNCwtOS4yIGMgNi4xLC00LjkgMTIuOSwtOC45IDIwLjMsLTExLjcgbCA0LjIsMTEu
MSBjIDAsMCAxLjQsLTAuNSAzLjYsLTEuMyAxLjEsLTAuMyAyLjQsLTAuNiAzLjgsLTEgMS40LC0w
LjQgMi45LC0wLjggNC40LC0wLjkgMS41LC0wLjIgMywtMC41IDQuNSwtMC43IDEuNCwtMC4xIDIu
OCwtMC4xIDMuOSwtMC4yIDAuNiwwIDEuMSwtMC4xIDEuNiwtMC4xIDAuMiwwIDAuNCwwIDAuNiww
IGggMC4xIGMgMC44LDAgMS4yLDAuMSAxLjIsMC4xIGwgMC42LC0xMS45IGMgNC4xLDAuMSA4LjIs
MC41IDEyLjEsMS4zIC0yMSwtMjMuOSAtNTEuOCwtMzguOSAtODYuMiwtMzguOSAtNjMuNCwwIC0x
MTQuOCw1MS40IC0xMTQuOCwxMTQuOCAwLDYzLjQgNTEuNCwxMTQuOCAxMTQuOCwxMTQuOCAzNi43
LDAgNjkuNCwtMTcuMyA5MC40LC00NC4xIC01LDEuMyAtMTAuNiwyLjEgLTE2LjQsMi4yIHogTSAx
MTUsMTg4LjYgYyAtOC4zLDAgLTE1LjEsLTYuNyAtMTUuMSwtMTUuMSAwLC04LjMgNi43LC0xNS4x
IDE1LjEsLTE1LjEgOC4zLDAgMTUuMSw2LjcgMTUuMSwxNS4xIDAsOC40IC02LjgsMTUuMSAtMTUu
MSwxNS4xIHoiCiAgICAgICAgICAgICBpZD0icGF0aDEwIgogICAgICAgICAgICAgc3R5bGU9ImZp
bGw6IzM4ODNiMDtmaWxsLW9wYWNpdHk6MSIgLz4KICAgICAgICA8L2c+CiAgICAgICAgPHBhdGgK
ICAgICAgICAgICBjbGFzcz0ic3QwIgogICAgICAgICAgIGQ9Im0gMjU0LjgsMTEwLjQgYyAwLjYs
MCAxLjEsLTAuMSAxLjYsLTAuMSAwLjIsMCAwLjQsMCAwLjYsMCBoIDAuMSBjIDAuOCwwIDEuMiww
LjEgMS4yLDAuMSBsIDAuNiwtMTEuOSBjIDcuOSwwLjIgMTUuNCwxLjYgMjIuNSw0IGwgLTMuOSwx
MS4yIGMgMCwwIDEuNCwwLjUgMy42LDEuMyAxLjEsMC40IDIuMywxLjEgMy42LDEuNyAxLjMsMC42
IDIuNywxLjIgNCwyLjEgMS4zLDAuOCAyLjYsMS42IDMuOSwyLjMgMS4yLDAuOSAyLjIsMS43IDMu
MSwyLjQgMS45LDEuMyAzLDIuNCAzLDIuNCBsIDcuMSwtOC4xIHYgLTEuNCAtNzcuNiBsIC04My41
LDM1LjggMjguOSwzNS45IGMgMS40LDAgMi42LDAgMy42LC0wLjEgeiIKICAgICAgICAgICBpZD0i
cGF0aDE0IgogICAgICAgICAgIHN0eWxlPSJmaWxsOiMzODgzYjA7ZmlsbC1vcGFjaXR5OjEiIC8+
CiAgICAgIDwvZz4KICAgIDwvZz4KICA8L2c+Cjwvc3ZnPgo=`;
    document.getElementsByTagName('head')[0].appendChild(favicon);
  },
};

export default plugin;
